<header class="navbar">
  <section class="navbar-top">
    <div class="navbar-align">
      <a routerLink="/home" class="logo">
        <figure>
          <img src="assets/logos/logo.svg" alt="EconÃ´metro" />
        </figure>
      </a>
      <button class="hamburger" (click)="openMenu = !openMenu">
        <i class="pi pi-bars"></i>
      </button>

    </div>

    <section class="search-bar">
      <app-search-bar></app-search-bar>
    </section>

    <aside class="user-actions">
      @if (user) {
      <span class="user-name">
        <span class="user-name__initial">{{ userInitial }}</span>
        <span class="user-name__label">{{ user.name }}</span>
      </span>
      <button class="btn-login" (click)="logout()">
        <i class="pi pi-fw pi-sign-out"></i> Sair
      </button>
      } @else {
      <button class="btn-login" (click)="showLogin = true">
        <i class="pi pi-user"></i> Entrar
      </button>
      }
      <button class="btn-alerts" routerLink="/alerts">
        <i class="pi pi-bell"></i> Alertas
      </button>
    </aside>
  </section>

  <nav
    class="category-menu"
    [class.menu-open]="openMenu"
    aria-label="Categorias principais"
  >
    <ul class="nav-bar-itens">
      @for (category of categories; track category.id) {
      <li>
        <a
          [routerLink]="['/search']"
          [queryParams]="{ categoryId: category.id }"
          >{{ category.name }}</a
        >
      </li>
      }
    </ul>
  </nav>

  @if (showLogin) {
  <app-login (close)="showLogin = false"></app-login>
  }
</header>
